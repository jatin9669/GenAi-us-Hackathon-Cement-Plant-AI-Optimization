<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cement Strength Predictor</title>
  <style>
    :root {
      --bg-light: linear-gradient(to right, #eef2f3, #d9e4f5);
      --bg-dark: #1e1e1e;
      --text-light: #333;
      --text-dark: #eee;
      --accent: #4285F4;
      --card-light: #fff;
      --card-dark: #2b2b2b;
    }

    body {
      margin:0; padding:0;
      font-family:"Segoe UI", Arial, sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      transition: background 0.4s, color 0.4s;
    }
    body.dark { background: var(--bg-dark); color: var(--text-dark); }

    header {
      background: var(--accent);
      color:white;
      text-align:center;
      padding:25px 20px;
      font-weight:600;
      box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }
    header h1 { margin:0; font-size:1.8rem; }
    header p { margin:8px 0 0 0; font-size:1rem; opacity:0.9; }

    .container {
      max-width:600px;
      margin:40px auto;
      padding:30px;
      background: var(--card-light);
      border-radius:15px;
      box-shadow:0 12px 30px rgba(0,0,0,0.1);
      transition: background 0.4s, color 0.4s;
    }
    body.dark .container { background: var(--card-dark); color: var(--text-dark); }

    .form-group { margin-bottom:15px; }
    .form-group label { display:block; margin-bottom:5px; font-weight:600; }
    .form-group input {
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid #ccc;
      font-size:14px;
      transition: background 0.3s, color 0.3s;
    }
    body.dark .form-group input { background:#444; color:#eee; border:1px solid #666; }

    .btn {
      background: var(--accent);
      color:#fff;
      border:none;
      border-radius:20px;
      padding:10px 20px;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
      transition:background 0.3s, transform 0.2s;
      margin-top:15px;
    }
    .btn:hover { background:#3367D6; transform: translateY(-2px); }

    .result {
      margin-top:20px;
      font-size:1.2rem;
      font-weight:600;
      text-align:center;
    }

    .toggle-container, .back-btn {
      position:fixed;
      top:20px;
      z-index:10;
    }
    .toggle-container { right:20px; }
    .back-btn { right:150px; }

    .back-btn, .toggle-btn {
      background:#fff;
      border:none;
      border-radius:20px;
      padding:8px 15px;
      cursor:pointer;
      font-size:14px;
      font-weight:600;
      box-shadow:0 4px 10px rgba(0,0,0,0.15);
      transition: background 0.3s, transform 0.2s;
    }
    .back-btn:hover, .toggle-btn:hover { transform: translateY(-2px); }
    body.dark .back-btn, body.dark .toggle-btn { background:#444; color:#eee; }

    @media (max-width:768px) {
      .container { margin:20px; padding:20px; }
      .back-btn { right:100px; }
    }
  </style>
</head>
<body>

  <button class="back-btn" onclick="location.href='index.html'">‚¨Ö Back</button>
  <div class="toggle-container">
    <button class="toggle-btn" onclick="toggleDarkMode()">üåô Dark Mode</button>
  </div>

  <header>
    <h1>Cement Strength Predictor</h1>
    <p>Enter material values to predict compressive strength</p>
  </header>

  <div class="container">
    <div class="form-group"><label>Cement (kg/m¬≥)</label><input type="number" id="cement"></div>
    <div class="form-group"><label>Blast Furnace Slag (kg/m¬≥)</label><input type="number" id="slag"></div>
    <div class="form-group"><label>Fly Ash (kg/m¬≥)</label><input type="number" id="flyash"></div>
    <div class="form-group"><label>Water (kg/m¬≥)</label><input type="number" id="water"></div>
    <div class="form-group"><label>Superplasticizer (kg/m¬≥)</label><input type="number" id="superplasticizer"></div>
    <div class="form-group"><label>Coarse Aggregate (kg/m¬≥)</label><input type="number" id="coarseaggregate"></div>
    <div class="form-group"><label>Fine Aggregate (kg/m¬≥)</label><input type="number" id="fineaggregate"></div>
    <div class="form-group"><label>Age (days)</label><input type="number" id="age"></div>

    <button class="btn" onclick="predictStrength()">Predict Strength</button>
    <div class="result" id="result"></div>
  </div>

  <script>
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      document.querySelector(".toggle-btn").textContent =
        document.body.classList.contains("dark") ? "‚òÄÔ∏è Light Mode" : "üåô Dark Mode";
    }

    async function predictStrength() {
      const data = {
        cement: parseFloat(document.getElementById('cement').value),
        slag: parseFloat(document.getElementById('slag').value),
        flyash: parseFloat(document.getElementById('flyash').value),
        water: parseFloat(document.getElementById('water').value),
        superplasticizer: parseFloat(document.getElementById('superplasticizer').value),
        coarseaggregate: parseFloat(document.getElementById('coarseaggregate').value),
        fineaggregate: parseFloat(document.getElementById('fineaggregate').value),
        age: parseFloat(document.getElementById('age').value)
      };

      try {
        const res = await fetch('/predict', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        const result = await res.json();
        document.getElementById('result').textContent =
          `Predicted Strength: ${result.prediction.toFixed(2)} MPa`;
      } catch (err) {
        console.error(err);
        document.getElementById('result').textContent = 'Prediction failed. Check console.';
      }
    }
  </script>

</body>
</html>
